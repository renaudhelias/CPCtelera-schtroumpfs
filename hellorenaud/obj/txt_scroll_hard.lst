                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.8 #9946 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module txt_scroll_hard
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _scroll_hard
                             12 	.globl _cpct_drawSprite
                             13 	.globl _texte
                             14 ;--------------------------------------------------------
                             15 ; special function registers
                             16 ;--------------------------------------------------------
                             17 ;--------------------------------------------------------
                             18 ; ram data
                             19 ;--------------------------------------------------------
                             20 	.area _DATA
                             21 ;--------------------------------------------------------
                             22 ; ram data
                             23 ;--------------------------------------------------------
                             24 	.area _INITIALIZED
                             25 ;--------------------------------------------------------
                             26 ; absolute external ram data
                             27 ;--------------------------------------------------------
                             28 	.area _DABS (ABS)
                             29 ;--------------------------------------------------------
                             30 ; global & static initialisations
                             31 ;--------------------------------------------------------
                             32 	.area _HOME
                             33 	.area _GSINIT
                             34 	.area _GSFINAL
                             35 	.area _GSINIT
                             36 ;--------------------------------------------------------
                             37 ; Home
                             38 ;--------------------------------------------------------
                             39 	.area _HOME
                             40 	.area _HOME
                             41 ;--------------------------------------------------------
                             42 ; code
                             43 ;--------------------------------------------------------
                             44 	.area _CODE
                             45 ;src/txt_scroll_hard.c:14: void scroll_hard(u16 step, u8* screen_plot_address) {
                             46 ;	---------------------------------
                             47 ; Function scroll_hard
                             48 ; ---------------------------------
   0000                      49 _scroll_hard::
   0000 DD E5         [15]   50 	push	ix
   0002 DD 21 00 00   [14]   51 	ld	ix,#0
   0006 DD 39         [15]   52 	add	ix,sp
   0008 F5            [11]   53 	push	af
                             54 ;src/txt_scroll_hard.c:20: u8* plot=screen_plot_address;
   0009 DD 4E 06      [19]   55 	ld	c,6 (ix)
   000C DD 46 07      [19]   56 	ld	b,7 (ix)
                             57 ;src/txt_scroll_hard.c:23: div=step/8;
   000F DD 5E 04      [19]   58 	ld	e,4 (ix)
   0012 DD 56 05      [19]   59 	ld	d,5 (ix)
   0015 CB 3A         [ 8]   60 	srl	d
   0017 CB 1B         [ 8]   61 	rr	e
   0019 CB 3A         [ 8]   62 	srl	d
   001B CB 1B         [ 8]   63 	rr	e
   001D CB 3A         [ 8]   64 	srl	d
   001F CB 1B         [ 8]   65 	rr	e
                             66 ;src/txt_scroll_hard.c:24: mod=step%8;
   0021 DD 7E 04      [19]   67 	ld	a, 4 (ix)
   0024 E6 07         [ 7]   68 	and	a, #0x07
   0026 DD 77 FE      [19]   69 	ld	-2 (ix), a
   0029 DD 36 FF 00   [19]   70 	ld	-1 (ix), #0x00
                             71 ;src/txt_scroll_hard.c:25: div=div%128;
   002D CB BB         [ 8]   72 	res	7, e
   002F 16 00         [ 7]   73 	ld	d, #0x00
                             74 ;src/txt_scroll_hard.c:26: if (texte[div]==' ') {
   0031 21r6Ar00      [10]   75 	ld	hl, #_texte+0
   0034 19            [11]   76 	add	hl, de
   0035 5E            [ 7]   77 	ld	e, (hl)
   0036 7B            [ 4]   78 	ld	a, e
   0037 D6 20         [ 7]   79 	sub	a, #0x20
   0039 20 05         [12]   80 	jr	NZ,00102$
                             81 ;src/txt_scroll_hard.c:27: o=0;
   003B 11 00 00      [10]   82 	ld	de, #0x0000
   003E 18 09         [12]   83 	jr	00103$
   0040                      84 00102$:
                             85 ;src/txt_scroll_hard.c:29: o=texte[div]-'?';
   0040 16 00         [ 7]   86 	ld	d, #0x00
   0042 7B            [ 4]   87 	ld	a, e
   0043 C6 C1         [ 7]   88 	add	a, #0xc1
   0045 5F            [ 4]   89 	ld	e, a
   0046 7A            [ 4]   90 	ld	a, d
   0047 CE FF         [ 7]   91 	adc	a, #0xff
   0049                      92 00103$:
                             93 ;src/txt_scroll_hard.c:32: pointeur=(u16)g_tile_fontmap32x32plat_000+o*8*(32*2)+mod*(32*2);
   0049 21r00r00      [10]   94 	ld	hl, #_g_tile_fontmap32x32plat_000
   004C 7B            [ 4]   95 	ld	a, e
   004D 87            [ 4]   96 	add	a, a
   004E 57            [ 4]   97 	ld	d, a
   004F 1E 00         [ 7]   98 	ld	e, #0x00
   0051 19            [11]   99 	add	hl,de
   0052 EB            [ 4]  100 	ex	de,hl
   0053 E1            [10]  101 	pop	hl
   0054 E5            [11]  102 	push	hl
   0055 29            [11]  103 	add	hl, hl
   0056 29            [11]  104 	add	hl, hl
   0057 29            [11]  105 	add	hl, hl
   0058 29            [11]  106 	add	hl, hl
   0059 29            [11]  107 	add	hl, hl
   005A 29            [11]  108 	add	hl, hl
   005B 19            [11]  109 	add	hl, de
                            110 ;src/txt_scroll_hard.c:35: cpct_drawSprite((u8*)pointeur, plot, 2, 32);
   005C 11 02 20      [10]  111 	ld	de, #0x2002
   005F D5            [11]  112 	push	de
   0060 C5            [11]  113 	push	bc
   0061 E5            [11]  114 	push	hl
   0062 CDr00r00      [17]  115 	call	_cpct_drawSprite
   0065 DD F9         [10]  116 	ld	sp, ix
   0067 DD E1         [14]  117 	pop	ix
   0069 C9            [10]  118 	ret
   006A                     119 _texte:
   006A 57 45 20 57 49 53   120 	.ascii "WE WISH YOU A MERRY CHRISTMAS WE WISH YOU A MERRY CHRISTMAS "
        48 20 59 4F 55 20
        41 20 4D 45 52 52
        59 20 43 48 52 49
        53 54 4D 41 53 20
        57 45 20 57 49 53
        48 20 59 4F 55 20
        41 20 4D 45 52 52
        59 20 43 48 52 49
        53 54 4D 41 53 20
   00A6 41 4E 44 20 41 20   121 	.ascii "AND A HAPPY NEW YEAR FROM THSF AND TETALAB      AZERTYUIOPQS"
        48 41 50 50 59 20
        4E 45 57 20 59 45
        41 52 20 46 52 4F
        4D 20 54 48 53 46
        20 41 4E 44 20 54
        45 54 41 4C 41 42
        20 20 20 20 20 20
        41 5A 45 52 54 59
        55 49 4F 50 51 53
   00E2 44 46 47 20 20 20   122 	.ascii "DFG     "
        20 20
   00EA 00                  123 	.db 0x00
   00EB 00                  124 	.db 0x00
                            125 	.area _CODE
                            126 	.area _INITIALIZER
                            127 	.area _CABS (ABS)
